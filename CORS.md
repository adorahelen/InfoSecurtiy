
---

# **✅ CORS 정책이 도입된 배경**

## **🔐 1. Same-Origin Policy(SOP)의 한계**
- **SOP란?**  
  - 브라우저가 **다른 출처(origin)**의 스크립트가 내 출처의 데이터를 함부로 읽지 못하게 막는 **보안 정책**.
  - 출처(`origin`)는 **프로토콜 + 도메인 + 포트**로 구성됨.

### **🛡️ SOP의 장점**
- 기본적인 **XSS** 및 **CSRF** 방어 가능.

### **⚠️ SOP의 단점**
- 서로 다른 출처 간 **합법적인 API 요청도 차단됨**.
- 예: `A.com`에서 `B.com`의 API를 호출하면 브라우저가 응답 데이터를 JS에서 접근할 수 없음.

---

## **🌐 2. 웹의 변화: API 중심으로 진화**
- 과거: **웹 페이지 = HTML, CSS, JS** → **단일 서버에서 렌더링**.
- 현재: **프론트엔드(React/Vue)와 백엔드(API 서버)가 분리됨**.

### **🛠️ 예시**
```
프론트엔드: https://frontend.com
백엔드 API: https://api.backend.com
```
- 위 구조에서는 **SOP에 의해 API 요청 응답을 스크립트에서 읽지 못함**.
- 즉, **합법적이고 의도된 통신조차 차단되는 문제 발생**.

---

## **✅ 그래서 등장한 CORS**
“브라우저야, 이 요청은 비록 다른 출처지만, **서버가 허용했으니 괜찮아!**”라고 명시적으로 알려주는 방식.

### **🔹 CORS 동작 방식**
- 서버가 브라우저에 다음과 같은 응답 헤더를 보내면:
```http
Access-Control-Allow-Origin: https://frontend.com
```
- 브라우저는 **JS 코드에서 API 응답을 사용할 수 있도록 허용함**.

---

## **🔒 CORS는 브라우저에만 적용됨**
- **서버 간 통신(백엔드 → 백엔드)은 CORS 적용 없이 자유롭게 요청 가능**.
- **브라우저가 보안 목적으로 차단하는 것**.

---

## **✅ 정리: CORS 정책이 브라우저에 도입된 이유**

| **이유**                | **설명** |
|------------------------|------------------------------|
| 🔐 **보안 유지**        | SOP를 유지해 악의적 JS가 민감 정보에 접근하지 못하도록 보호. |
| 🌐 **합법적 데이터 공유 허용** | 다른 출처 간 **의도된 API 호출을 허용하기 위한 예외 장치**. |
| 📱 **현대 웹 구조에 맞춤** | 프론트엔드-백엔드 분리 구조 (SPA + API 서버)에 대응. |
| 🔎 **사용자 보호**      | 사용자가 모르게 **외부 JS가 중요한 리소스를 요청하는 것을 막음**. |

---

