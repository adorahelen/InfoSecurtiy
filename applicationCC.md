# 시스템 간 통신 방식 개요

```

시스템 간 통신
├── 1. 요청-응답 (Request-Response)
│   ├── REST API        ← 가장 일반적인 HTTP 기반 통신
│   ├── GraphQL API     ← 쿼리 기반 데이터 조회
│   └── gRPC            ← 고속, 구조화된 RPC 통신 (Protocol Buffers)
│
├── 2. 이벤트 기반 통신 (Event-driven)
│   ├── Webhook         ← 외부로 푸시 알림 (POST)
│   ├── Message Queue
│   │   ├── RabbitMQ
│   │   └── ActiveMQ
│   ├── Publish/Subscribe (Pub/Sub)
│   │   ├── Kafka
│   │   └── Google Pub/Sub
│   └── Event Bus       ← 내부 이벤트 라우팅 (예: Spring Event Bus)
│
├── 3. 실시간 양방향 통신
│   ├── WebSocket       ← 양방향 실시간 연결
│   ├── Server-Sent Events (SSE) ← 서버 → 클라이언트 단방향 실시간
│   └── MQTT            ← IoT 용 경량 메시징 프로토콜
│
└── 4. 파일/데이터 기반 통신
    ├── FTP / SFTP
    ├── 공유 디렉토리 (NAS, SMB)
    └── DB 기반 연동 (폴링 or CDC)

```

 - 마이크로서비스 아키텍처나 분산 시스템 등에서 여러 컴포넌트 또는 시스템 간에 데이터를 주고받는 다양한 통신 방식
 - 각 방식은 특정 목적과 환경에 따라 장단점을 가지므로, 시스템 설계 시 요구사항에 맞는 적절한 방식을 선택하는 것이 중요

## 1. 요청-응답 (Request-Response)

클라이언트가 서버에 요청을 보내고, 서버가 해당 요청을 처리한 후 응답을 반환하는 가장 전통적이고 직관적인 통신 방식입니다. 클라이언트는 응답을 받을 때까지 대기하는 경우가 많으며, 동기적인 통신에 주로 사용됩니다.

* **REST API**
    * **설명:** HTTP 프로토콜의 메서드(GET, POST, PUT, DELETE 등)를 사용하여 자원(Resource) 기반의 통신을 수행하는 API 설계 스타일입니다. 상태가 없는(Stateless) 통신을 지향하며, 웹 서비스 구축에 가장 널리 사용됩니다.
    * **주요 특징:** HTTP 기반, 자원 중심 설계, stateless, 구현 용이.
    * **사용 사례:** 웹 서비스 백엔드 API, 모바일 앱 통신, 외부 서비스 연동.

* **GraphQL API**
    * **설명:** 클라이언트가 필요한 데이터의 구조를 쿼리(Query)로 정의하여 요청하면, 서버는 해당 쿼리에 정확히 맞는 데이터만 응답하는 방식입니다. REST API의 '오버페칭(Over-fetching)'이나 '언더페칭(Under-fetching)' 문제를 해결하는 데 효과적입니다.
    * **주요 특징:** 쿼리 기반, 필요한 데이터만 요청/응답, 단일 엔드포인트, 타입 시스템.
    * **사용 사례:** 데이터 요구사항이 다양한 클라이언트(웹, 모바일)를 위한 API, 성능 최적화가 필요한 경우.

* **gRPC**
    * **설명:** Google에서 개발한 고성능의 오픈소스 RPC(Remote Procedure Call) 프레임워크입니다. Protocol Buffers를 사용하여 구조화된 데이터를 직렬화하며, HTTP/2를 기반으로 하여 효율적이고 빠른 통신을 제공합니다. 다양한 언어를 지원합니다.
    * **주요 특징:** Protocol Buffers 사용, HTTP/2 기반 고성능, 다국어 지원, RPC 방식.
    * **사용 사례:** 마이크로서비스 간 내부 통신, 고성능/저지연 요구사항이 있는 시스템.

## 2. 이벤트 기반 통신 (Event-driven)

시스템에서 어떤 '이벤트'가 발생했을 때, 해당 이벤트에 관심 있는 다른 시스템들이 이를 감지하고 스스로 작업을 수행하는 비동기적인 통신 방식입니다. 시스템 간의 결합도를 낮추고 확장성을 높이는 데 유리합니다.

* **Webhook**
    * **설명:** 특정 이벤트가 발생했을 때, 서비스 제공자가 사전에 등록된 구독자의 URL로 이벤트 데이터를 HTTP POST 요청으로 '푸시'하여 알려주는 방식입니다. 실시간 알림에 주로 사용됩니다.
    * **주요 특징:** 푸시 방식, 실시간 알림, HTTP 기반.
    * **사용 사례:** 결제 완료 알림, 소셜 미디어 업데이트 알림, CI/CD 파이프라인 트리거.

* **Message Queue**
    * **설명:** 메시지 생산자(Producer)가 메시지를 큐(Queue)에 발행하면, 메시지 소비자(Consumer)가 큐에서 메시지를 가져가 비동기적으로 처리하는 방식입니다. 메시지를 중간에 버퍼링하여 시스템 간의 부하를 분산하고 안정성을 높입니다.
    * **주요 특징:** 비동기, 메시지 버퍼링, 부하 분산, 안정성.
    * **주요 기술:**
        * **RabbitMQ:** 다양한 메시징 프로토콜 지원, 유연한 라우팅.
        * **ActiveMQ:** 다양한 프로토콜 지원, 자바 기반.

* **Publish/Subscribe (Pub/Sub)**
    * **설명:** 메시지 발행자(Publisher)가 특정 토픽(Topic)에 메시지를 발행하면, 해당 토픽을 구독(Subscribe)한 모든 소비자(Subscriber)들이 메시지를 수신하는 방식입니다. 발행자와 구독자는 서로의 존재를 몰라도 통신이 가능하여 시스템 간의 결합도가 매우 낮습니다. 메시지 큐보다 브로드캐스팅 형태에 가깝습니다.
    * **주요 특징:** 토픽 기반 발행/구독, 낮은 결합도, 확장성 용이.
    * **주요 기술:**
        * **Kafka:** 대용량 실시간 스트리밍 데이터 처리에 특화, 높은 처리량과 내결함성.
        * **Google Cloud Pub/Sub:** 클라우드 기반의 확장 가능한 메시징 서비스.

* **Event Bus**
    * **설명:** 애플리케이션 내부 또는 특정 서비스 바운더리 내에서 이벤트의 발생 및 처리를 관리하는 중앙 집중식 메커니즘입니다. 이벤트가 발생하면 이벤트 버스로 보내지고, 해당 이벤트에 관심 있는 핸들러(Handler)가 이를 수신하여 처리합니다. (외부 시스템 간 통신보다는 주로 애플리케이션/서비스 내부에서 사용되는 경우가 많습니다.)
    * **주요 특징:** 애플리케이션 내부 이벤트 관리, 느슨한 결합.
    * **사용 사례:** 모놀리식 애플리케이션 내 컴포넌트 간 통신, 특정 서비스 바운더리 내 이벤트 라우팅 (예: Spring의 `ApplicationEventPublisher`).

## 3. 실시간 양방향 통신

서버와 클라이언트가 지속적인 연결을 맺고 실시간으로 데이터를 주고받는 방식입니다. 지연이 거의 없는 실시간 상호작용이 필요한 서비스에 적합합니다.

* **WebSocket**
    * **설명:** 웹 브라우저와 서버 간에 하나의 TCP 연결을 통해 양방향 전이중(Full-duplex) 통신 채널을 제공하는 프로토콜입니다. HTTP 핸드셰이크를 통해 연결을 수립한 후, 낮은 오버헤드로 데이터를 빠르게 주고받을 수 있습니다.
    * **주요 특징:** 양방향 통신, 실시간성, 낮은 오버헤드, 지속적인 연결.
    * **사용 사례:** 실시간 채팅, 온라인 게임, 주식 시세판, 협업 툴.

* **Server-Sent Events (SSE)**
    * **설명:** 서버에서 클라이언트로 단방향으로 데이터를 스트리밍하는 방식입니다. 클라이언트는 서버로부터 이벤트가 발생할 때마다 데이터를 수신하며, 웹훅과 유사하게 서버 푸시 알림에 사용될 수 있으나, 웹훅은 이벤트마다 새로운 요청을 보내는 반면 SSE는 연결을 유지하며 데이터를 지속적으로 보냅니다.
    * **주요 특징:** 서버 → 클라이언트 단방향 스트리밍, 실시간 알림, 자동 재연결 지원.
    * **사용 사례:** 뉴스 피드 업데이트, 알림 스트리밍, 실시간 데이터 대시보드.

* **MQTT**
    * **설명:** 발행/구독 모델 기반의 경량 메시징 프로토콜입니다. 적은 코드량과 네트워크 대역폭 사용으로 인해 IoT(Internet of Things) 장치 간 통신에 널리 사용됩니다.
    * **주요 특징:** 경량, Pub/Sub 모델, IoT 최적화, 낮은 전력 소비.
    * **사용 사례:** IoT 장치 데이터 수집/제어, 센서 데이터 전송, 스마트 홈 시스템.

## 4. 파일/데이터 기반 통신

파일 시스템이나 데이터베이스와 같은 공유 저장소를 매개로 데이터를 교환하는 방식입니다. 실시간성이 중요하지 않거나 대량의 데이터를 배치(Batch) 처리하는 경우에 사용될 수 있습니다.

* **FTP / SFTP**
    * **설명:** 파일 전송 프로토콜(FTP) 및 보안 파일 전송 프로토콜(SFTP)을 사용하여 시스템 간에 파일을 직접 주고받는 방식입니다. 대량의 파일을 전송하는 전통적인 방법입니다.
    * **주요 특징:** 파일 전송, 배치 처리, 표준 프로토콜.
    * **사용 사례:** 대용량 로그 파일 전송, 백업 데이터 이동, 시스템 간 데이터 파일 교환.

* **공유 디렉토리 (NAS, SMB)**
    * **설명:** 네트워크 결합 스토리지(NAS)나 SMB(Server Message Block)와 같은 프로토콜을 사용하여 네트워크 상의 공유 디렉토리에 파일을 저장하거나 읽는 방식입니다. 여러 시스템이 동일한 파일 시스템에 접근할 수 있습니다.
    * **주요 특징:** 공유 스토리지 사용, 파일 접근 용이.
    * **사용 사례:** 여러 서버에서 공통 설정 파일 접근, 데이터 공유, 배치 처리.

* **DB 기반 연동 (폴링 or CDC)**
    * **설명:** 한 시스템이 데이터를 데이터베이스에 저장하고, 다른 시스템이 해당 데이터베이스에서 데이터를 읽어가는 방식입니다. 변경 사항 감지는 주기적인 폴링(Polling)이나 CDC(Change Data Capture) 기술을 사용하여 구현할 수 있습니다.
    * **주요 특징:** 데이터베이스 매개, 구현 용이성 (기존 인프라 활용), 결합도가 높아질 수 있음.
    * **사용 사례:** 레거시 시스템 연동, 데이터 웨어하우징을 위한 데이터 수집, 단순 데이터 공유.

